# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased 4.5.0]

### Added

- Support for Java 10-17 (BETA).
- Support for annotations on data types.

### Fixed

- Issue #59: Instrumentation error for multidimensional array constructor reference.
- Issue #95: Use of long[]::new breaks clover instrumentation.
- Issue #136: MismatchedTokenException for try-with-resources.

### Security

- Issue #165: Migrate from Log4j to SLF4J (CVE-2019-17571, CVE-2022-23305, CVE-2022-23307).
- Issue #112: Remove Guava dependency (CVE-2018-10237, CVE-2020-8908, CVE-2023-2976).
- Issue #131: Upgrade commons-collections to 3.2.2 or later (CVE-2015-6420).

### Removed

- Drop support for Groovy 1.x
- Drop support for 1.3-1.6 language levels
- Drop support for Java 1.6
- Drop support for Grails 2.x plugin
- Drop support for Hudson Clover Plugin

## [4.4.1] 2019-10-11

### Fixed

- Issue #103: Resolution of artifacts with 'clover' classifier looks up in external repositories
- Issue #104: Code generated by OpenClover 4.4.0 has dependency on JUnit4 when running with JUnit5
- Issue #107: The clover:instrument-test goal is missing in 4.4.0

## [4.4.0] 2019-09-26

### Added

- Maven plugin - method contexts with code metrics.
- Maven plugin - custom test detector patterns.
- Maven plugin - include failed test coverage option.
- Maven plugin - show unique per-test coverage option.
- JUnit5 support (thanks to James Spagnola contribution)
- Bamboo Clover plugin (Bamboo 6.9.0+) integrates with OpenClover
- CloverInstr commandline tool - new six options to configure methods with code metrics and test detector patterns

### Fixed

- Issue #71: Package Private JUnit 5 Tests are not detected by Clover
- Issue #90: Do not read a license file in Maven plugin

### Removed

- Maven 2.x is unsupported, minimum version required is 3.0.4.

## [4.3.1] 2018-08-21

### Fixed

- Issue #72: Exception "Unexpected token: to"

## [4.3.0] 2018-08-03 [YANKED]

Due to a [blocker bug](https://github.com/openclover/clover/issues/72) present in version 4.3.0 we strongly recommend upgrading to 4.3.1 or later.
### Added

- Java 9 support.

### Changed

- The <clover-env> task no longer adds clover.jar to the system classpath, as Java 9 is more restrictive regarding
  classpath manipulation. This in particular affects Ant integration and <clover-setup> task as well as automatic
  Ant integration in Hudson, Jenkins and Bamboo. In order to have them working correctly, you have to add clover.jar
  to Ant's classpath.
- Jenkins Clover Plugin 4.10.0 no longer calls the 'clover.fullclean' target in a build when automatic integration is
  enabled. Add such target if you need this (you can find it in cloverlib.xml inside the clover.jar).

### Removed

- IntelliJ IDEA 13 is no longer supported.

## [4.2.1] 2017-11-22

### Fixed

- Issue #32: Put links to OpenClover documentation.
- Issue #25: Test compatibility with Maven 3.5.0+.
- Issue #24: Restore compatibility with Maven 2.1.0+.
- Issue #26: AntIntegrator and MavenIntegrator shall integrate with OpenClover, not Atlassian Clover.

## [4.2.0] 2017-04-30

### Added

- First release of OpenClover, a fork of open-sourced Atlassian Clover.
- No license key is required.

### Changed

- Clover Core artifact has been renamed from 'com.atlassian.clover:clover' to 'org.openclover:clover'.
- Clover Maven Plugin artifact has been renamed from 'com.atlassian.maven.plugins:clover-maven-plugin' to '
  org.openclover:clover-maven-plugin'.
- Jenkins Clover Plugin since version 4.8.0 uses OpenClover instead of Atlassian Clover.
- Hudson Clover Plugin since version 4.7.0 uses OpenClover instead of Atlassian Clover.
- Bamboo Clover Plugin uses Atlassian Clover, so you have to switch to manual integration to use OpenClover.
- Grails Clover Plugin since version 4.2.0 uses OpenClover instead of Atlassian Clover.

