<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
	<extension point="org.eclipse.help.toc">
		<toc file="toc.xml" primary="true"/>
	</extension>

	<!-- =============================================== -->
	<!-- ANNOTATIONS -->
	<!-- These are used to flag lines with coverage data available -->
	<!-- =============================================== -->
	<extension point="org.eclipse.ui.editors.annotationTypes">
		<type name="org.openclover.eclipse.core.coverageannotation.covered"/>
		<type name="org.openclover.eclipse.core.coverageannotation.notcovered"/>
	</extension>

    <extension
        point="org.eclipse.ui.editors.markerAnnotationSpecification">
        <specification
            annotationType="org.openclover.eclipse.core.coverageannotation.covered"
            label="%coveragemarker.covered"
            colorPreferenceKey="clover.covered.colorPreference"
            colorPreferenceValue="120,255,85"
            textPreferenceKey="clover.covered.textPreference"
            textPreferenceValue="false"
            highlightPreferenceKey="clover.covered.highlightPreference"
            highlightPreferenceValue="true"
            contributesToHeader="false"
            overviewRulerPreferenceKey="clover.covered.overviewRulerPreference"
            overviewRulerPreferenceValue="true"
            verticalRulerPreferenceKey="clover.covered.verticalRulerPreference"
            verticalRulerPreferenceValue="false"
            presentationLayer="0"
            showInNextPrevDropdownToolbarActionKey="clover.covered.showInNextPrevDropdownToolbarAction"
            showInNextPrevDropdownToolbarAction="true"
            isGoToNextNavigationTargetKey="clover.covered.isGoToNextNavigationTarget"
            isGoToNextNavigationTarget="false"
            isGoToPreviousNavigationTargetKey="clover.covered.isGoToPreviousNavigationTarget"
            isGoToPreviousNavigationTarget="false"
            />
        <specification
            annotationType="org.openclover.eclipse.core.coverageannotation.filtered"
            label="%coveragemarker.covered.hidden"
            colorPreferenceKey="clover.covered.hidden.colorPreference"
            colorPreferenceValue="239,239,239"
            textPreferenceKey="clover.covered.hidden.textPreference"
            textPreferenceValue="false"
            highlightPreferenceKey="clover.covered.hidden.highlightPreference"
            highlightPreferenceValue="true"
            contributesToHeader="false"
            overviewRulerPreferenceKey="clover.covered.overviewRulerPreference"
            overviewRulerPreferenceValue="false"
            verticalRulerPreferenceKey="clover.covered.verticalRulerPreference"
            verticalRulerPreferenceValue="false"
            presentationLayer="0"
            showInNextPrevDropdownToolbarActionKey="clover.covered.hidden.showInNextPrevDropdownToolbarAction"
            showInNextPrevDropdownToolbarAction="false"
            isGoToNextNavigationTargetKey="clover.covered.hidden.isGoToNextNavigationTarget"
            isGoToNextNavigationTarget="false"
            isGoToPreviousNavigationTargetKey="clover.covered.hidden.isGoToPreviousNavigationTarget"
            isGoToPreviousNavigationTarget="false"
            />
        <specification
            annotationType="org.openclover.eclipse.core.coverageannotation.notcovered"
            label="%coveragemarker.notcovered"
            colorPreferenceKey="clover.notcovered.colorPreference"
			colorPreferenceValue="240,200,200"
            textPreferenceKey="clover.notcovered.textPreference"
            textPreferenceValue="false"
            highlightPreferenceKey="clover.notcovered.highlightPreference"
            highlightPreferenceValue="true"
            contributesToHeader="false"
            overviewRulerPreferenceKey="clover.notcovered.overviewRulerPreference"
            overviewRulerPreferenceValue="true"
            verticalRulerPreferenceKey="clover.notcovered.verticalRulerPreference"
            verticalRulerPreferenceValue="false"
            presentationLayer="1"
            showInNextPrevDropdownToolbarActionKey="clover.notcovered.showInNextPrevDropdownToolbarAction"
            showInNextPrevDropdownToolbarAction="true"
            isGoToNextNavigationTargetKey="clover.notcovered.isGoToNextNavigationTarget"
            isGoToNextNavigationTarget="false"
            isGoToPreviousNavigationTargetKey="clover.notcovered.isGoToPreviousNavigationTarget"
            isGoToPreviousNavigationTarget="false"
            />
        <specification
            annotationType="org.openclover.eclipse.core.coverageannotation.incidental"
            label="%coveragemarker.covered.incidental"
            colorPreferenceKey="clover.incidental.colorPreference"
            colorPreferenceValue="120,255,85"
            textPreferenceKey="clover.incidental.textPreference"
            textPreferenceValue="false"
            highlightPreferenceKey="clover.incidental.highlightPreference"
            highlightPreferenceValue="true"
            contributesToHeader="false"
            overviewRulerPreferenceKey="clover.incidental.overviewRulerPreference"
            overviewRulerPreferenceValue="true"
            verticalRulerPreferenceKey="clover.incidental.verticalRulerPreference"
            verticalRulerPreferenceValue="false"
            presentationLayer="2"
            showInNextPrevDropdownToolbarActionKey="clover.incidental.showInNextPrevDropdownToolbarAction"
            showInNextPrevDropdownToolbarAction="true"
            isGoToNextNavigationTargetKey="clover.incidental.isGoToNextNavigationTarget"
            isGoToNextNavigationTarget="false"
            isGoToPreviousNavigationTargetKey="clover.incidental.isGoToPreviousNavigationTarget"
            isGoToPreviousNavigationTarget="false"
            />
        <specification
            annotationType="org.openclover.eclipse.core.coverageannotation.failed"
            label="%coveragemarker.covered.failed"
            colorPreferenceKey="clover.failed.colorPreference"
            colorPreferenceValue="255,200,0"
            textPreferenceKey="clover.failed.textPreference"
            textPreferenceValue="false"
            highlightPreferenceKey="clover.failed.highlightPreference"
            highlightPreferenceValue="true"
            contributesToHeader="false"
            overviewRulerPreferenceKey="clover.failed.overviewRulerPreference"
            overviewRulerPreferenceValue="true"
            verticalRulerPreferenceKey="clover.failed.verticalRulerPreference"
            verticalRulerPreferenceValue="false"
            presentationLayer="3"
            showInNextPrevDropdownToolbarActionKey="clover.failed.showInNextPrevDropdownToolbarAction"
            showInNextPrevDropdownToolbarAction="true"
            isGoToNextNavigationTargetKey="clover.failed.isGoToNextNavigationTarget"
            isGoToNextNavigationTarget="false"
            isGoToPreviousNavigationTargetKey="clover.failed.isGoToPreviousNavigationTarget"
            isGoToPreviousNavigationTarget="false"
            />
        <specification
            annotationType="org.openclover.eclipse.core.coverageannotation.partialbranch"
            label="%coveragemarker.covered.partialbranch"
            colorPreferenceKey="clover.partialbranch.colorPreference"
            colorPreferenceValue="240,200,200"
            textPreferenceKey="clover.partialbranch.textPreference"
            textPreferenceValue="true"
            highlightPreferenceKey="clover.partialbranch.highlightPreference"
            highlightPreferenceValue="false"
            contributesToHeader="false"
            overviewRulerPreferenceKey="clover.partialbranch.overviewRulerPreference"
            overviewRulerPreferenceValue="true"
            verticalRulerPreferenceKey="clover.partialbranch.verticalRulerPreference"
            verticalRulerPreferenceValue="false"
            presentationLayer="3"
            showInNextPrevDropdownToolbarActionKey="clover.partialbranch.showInNextPrevDropdownToolbarAction"
            showInNextPrevDropdownToolbarAction="true"
            isGoToNextNavigationTargetKey="clover.partialbranch.isGoToNextNavigationTarget"
            isGoToNextNavigationTarget="false"
            isGoToPreviousNavigationTargetKey="clover.partialbranch.isGoToPreviousNavigationTarget"
            isGoToPreviousNavigationTarget="false"
            textStylePreferenceKey="clover.partialbranch.textStylePreference"
            textStylePreferenceValue="SQUIGGLES"
            />
        <specification
                annotationType="org.openclover.eclipse.core.coverageannotation.covered.testpassed"
                label="%coveragemarker.covered.testpassed"
                colorPreferenceKey="clover.covered.testpassed.colorPreference"
                colorPreferenceValue="0,128,0"
                textPreferenceKey="clover.covered.testpassed.textPreference"
                textPreferenceValue="false"
                highlightPreferenceKey="clover.covered.testpassed.highlightPreference"
                highlightPreferenceValue="false"
                contributesToHeader="false"
                overviewRulerPreferenceKey="clover.covered.testpassed.overviewRulerPreference"
                overviewRulerPreferenceValue="true"
                verticalRulerPreferenceKey="clover.covered.testpassed.verticalRulerPreference"
                verticalRulerPreferenceValue="false"
                presentationLayer="3"
                showInNextPrevDropdownToolbarActionKey="clover.covered.testpassed.showInNextPrevDropdownToolbarAction"
                showInNextPrevDropdownToolbarAction="false"
                isGoToNextNavigationTargetKey="clover.covered.testpassed.isGoToNextNavigationTarget"
                isGoToNextNavigationTarget="false"
                isGoToPreviousNavigationTargetKey="clover.covered.testpassed.isGoToPreviousNavigationTarget"
                isGoToPreviousNavigationTarget="false"
                />
        <specification
                annotationType="org.openclover.eclipse.core.coverageannotation.covered.testfailed"
                label="%coveragemarker.covered.testfailed"
                colorPreferenceKey="org.openclover.eclipse.core.coverageannotation.covered.testfailed.colorPreference"
                colorPreferenceValue="128,99,28"
                textPreferenceKey="org.openclover.eclipse.core.coverageannotation.covered.testfailed.textPreference"
                textPreferenceValue="false"
                highlightPreferenceKey="org.openclover.eclipse.core.coverageannotation.covered.testfailed.highlightPreference"
                highlightPreferenceValue="false"
                contributesToHeader="false"
                overviewRulerPreferenceKey="org.openclover.eclipse.core.coverageannotation.covered.testfailed.overviewRulerPreference"
                overviewRulerPreferenceValue="true"
                verticalRulerPreferenceKey="org.openclover.eclipse.core.coverageannotation.covered.testfailed.verticalRulerPreference"
                verticalRulerPreferenceValue="false"
                presentationLayer="3"
                showInNextPrevDropdownToolbarActionKey="org.openclover.eclipse.core.coverageannotation.covered.testfailed.showInNextPrevDropdownToolbarAction"
                showInNextPrevDropdownToolbarAction="false"
                isGoToNextNavigationTargetKey="org.openclover.eclipse.core.coverageannotation.covered.testfailed.isGoToNextNavigationTarget"
                isGoToNextNavigationTarget="false"
                isGoToPreviousNavigationTargetKey="org.openclover.eclipse.core.coverageannotation.covered.testfailed.isGoToPreviousNavigationTarget"
                isGoToPreviousNavigationTarget="false"
                />
    </extension>

	<!-- =============================================== -->
	<!-- BUILDING WITH CLOVER                            -->
	<!-- =============================================== -->

	<extension
		id="prejavabuilder"
		name="Clover Pre-Java Builder"
		point="org.eclipse.core.resources.builders">
		<builder hasNature="true">
			<run class="org.openclover.eclipse.core.projects.builder.PreJavaCloverBuilder"/>
		</builder>
	</extension>

	<extension
		id="postjavabuilder"
		name="Clover Post-Java Builder"
		point="org.eclipse.core.resources.builders">
		<builder hasNature="true">
			<run class="org.openclover.eclipse.core.projects.builder.PostJavaCloverBuilder"/>
		</builder>
	</extension>

	<extension
		id="nojavabuilder"
		name="Clover No-Java Builder"
		point="org.eclipse.core.resources.builders">
		<builder hasNature="true">
			<run class="org.openclover.eclipse.core.projects.builder.NoJavaCloverBuilder"/>
		</builder>
	</extension>

	<!-- bugaboo! unlike most extensions, this id needs to be fully qualified with plugin's id-->
	<extension
		id="org.openclover.eclipse.core.marker"
		point="org.eclipse.core.resources.markers"/>
	<extension
		id="org.openclover.eclipse.core.markers.problem"
		name="Clover Instrumentation Problems"
		point="org.eclipse.core.resources.markers">
		<super type="org.eclipse.core.resources.problemmarker"/>
		<super type="org.openclover.eclipse.core.marker"/>
		<persistent value="true"/>
	</extension>
	<extension
		id="org.openclover.eclipse.core.markers.problem.staledb"
		name="Clover Coverage Problems"
		point="org.eclipse.core.resources.markers">
		<super type="org.eclipse.core.resources.problemmarker"/>
		<super type="org.openclover.eclipse.core.marker"/>
		<persistent value="true"/>
	</extension>

	<extension point="org.eclipse.ui.ide.markerResolution">
	   <markerResolutionGenerator
	      markerType="org.openclover.eclipse.core.markers.problem"
	      class="org.openclover.eclipse.core.projects.builder.CoverageLoadFailedMarkerResolutionGenerator"/>
		<markerResolutionGenerator
		   markerType="org.openclover.eclipse.core.markers.problem.staledb"
		   class="org.openclover.eclipse.core.projects.builder.CoverageLoadFailedMarkerResolutionGenerator"/>
	</extension>

	<!--
	 Clover nature - marks Clover-enabled projects and acts as a point of control for Clover
	 components
	 -->
	<extension
		id="clovernature"
		name="Clover Project Nature"
		point="org.eclipse.core.resources.natures">
		<requires-nature id="org.eclipse.jdt.core.javanature"/>
		<builder id="org.openclover.eclipse.core.prejavabuilder"/>
		<builder id="org.openclover.eclipse.core.postjavabuilder"/>
		<builder id="org.openclover.eclipse.core.nojavabuilder"/>
		<runtime>
			<run class="org.openclover.eclipse.core.projects.CloverProject"/>
		</runtime>
	</extension>

	<!-- =============================================== -->
	<!-- CLOVER CONTEXT MENU -->
	<!-- =============================================== -->
	
	<extension point="org.eclipse.ui.menus">
	<!-- Let's mark Clover submenu with an icon when it's supported (Eclipse 3.3+) -->
	      <menuContribution
             locationURI="popup:org.eclipse.ui.popup.any">
             <menu
             	id="org.openclover.eclipse.core.popup.actions"
                label="%clover.name"
                icon="icons/cview16/clover.gif">
             </menu>
	      </menuContribution>
	</extension>
	
	<extension
		point="org.eclipse.ui.popupMenus">

		<!-- Clover group -->
		<objectContribution
			adaptable="true"
			objectClass="org.eclipse.core.resources.IProject"
			nameFilter="*"
			id="org.openclover.eclipse.core.popup.contribution">
			<menu
				id="org.openclover.eclipse.core.popup.actions"
				path="additions"
				label="%clover.name">
			</menu>
		</objectContribution>

		<!-- "Clover->Enable for this project" menu item -->
		<objectContribution
			adaptable="true"
			objectClass="org.eclipse.core.resources.IProject"
			nameFilter="*"
			id="org.openclover.eclipse.core.popup.addnature.contribution">
			<!-- only show menu if open and project is Java based -->
			<visibility>
				<and>
					<objectState name="nature" value="org.eclipse.jdt.core.javanature"/>
					<not>
						<objectState name="nature" value="org.openclover.eclipse.core.clovernature"/>
					</not>
					<objectState name="open" value="true"/>
				</and>
			</visibility>
			<!-- toggles Clover nature on a project -->
			<action
				label="%project.addnature"
                enablesFor="1"
				class="org.openclover.eclipse.core.views.actions.ToggleSingleCloverProjectNatureActionDelegate"
				menubarPath="org.openclover.eclipse.core.popup.actions/additions"
				id="org.openclover.eclipse.core.actions.addProjectNature"/>
		</objectContribution>

		<!-- "Clover->Disable for this project" menu item -->
		<objectContribution
			adaptable="true"
			objectClass="org.eclipse.core.resources.IProject"
			nameFilter="*"
			id="org.openclover.eclipse.core.popup.removenature.contribution">
			<!-- only show menu if open and project is Java based -->
			<visibility>
				<and>
					<objectState name="nature" value="org.eclipse.jdt.core.javanature"/>
					<objectState name="nature" value="org.openclover.eclipse.core.clovernature"/>
					<objectState name="open" value="true"/>
				</and>
			</visibility>
			<!-- toggles Clover nature on a project -->
			<action
				label="%project.removenature"
                enablesFor="1"
				class="org.openclover.eclipse.core.views.actions.ToggleSingleCloverProjectNatureActionDelegate"
				menubarPath="org.openclover.eclipse.core.popup.actions/additions"
				id="org.openclover.eclipse.core.actions.removeProjectNature"/>
		</objectContribution>

        <!-- "Clover->Enable/disable for..." menu item -->
        <objectContribution
            adaptable="true"
            objectClass="org.eclipse.core.resources.IProject"
            nameFilter="*"
            id="org.openclover.eclipse.core.popup.togglenatures.contribution">
            <!-- only show menu if open and project is Java based -->
            <!-- toggles Clover nature on a project -->
            <action
                label="%project.togglenatures.short"
                class="org.openclover.eclipse.core.views.actions.ToggleMultipleCloverProjectNaturesActionDelegate"
                menubarPath="org.openclover.eclipse.core.popup.actions/additions"
                id="org.openclover.eclipse.core.actions.toggleProjectNatures"/>
        </objectContribution>

		<!-- "Clover->Configure" menu item -->
		<objectContribution
			adaptable="true"
			objectClass="org.eclipse.core.resources.IProject"
			nameFilter="*"
			id="org.openclover.eclipse.core.popup.configure.contribution">
			<!-- only show menu if open and project is Java based -->
			<visibility>
				<and>
					<objectState name="nature" value="org.eclipse.jdt.core.javanature"/>
					<objectState name="nature" value="org.openclover.eclipse.core.clovernature"/>
					<objectState name="open" value="true"/>
				</and>
			</visibility>
			<action
				label="%project.configure"
                enablesFor="1"
				class="org.openclover.eclipse.core.views.actions.ConfigureCloverActionDelegate"
				menubarPath="org.openclover.eclipse.core.popup.actions/additions"
				id="org.openclover.eclipse.core.actions.configure"/>
		</objectContribution>
	    <objectContribution
	        id="org.openclover.eclipse.core.ToggleExclusion"
	        objectClass="org.openclover.eclipse.core.exclusion.ICloverExcludable" adaptable="true">
			<menu 
				id="org.openclover.eclipse.core.popup.actions"
				path="additions"
				label="%clover.name">
				<groupMarker name="additions"/>
				<separator name="settings" />
			</menu>
 	     <action 
	           class="org.openclover.eclipse.core.exclusion.ToggleShowAnnotationObjectDelegate"
	           label="%exclude.toggleShowAnnotations"
	           id="org.openclover.eclipse.core.object.toggleShowAnnotation"
	           menubarPath="org.openclover.eclipse.core.popup.actions/settings">
	     </action>
 	     <action 
	           class="org.openclover.eclipse.core.exclusion.EditSettingsActionDelegate"
	           enablesFor="1"
	           label="%exclude.editSettings"
	           id="org.openclover.eclipse.core.EditSourceSettingsAction"
	           menubarPath="org.openclover.eclipse.core.popup.actions/settings">
	     </action>
	     <action 
	           class="org.openclover.eclipse.core.exclusion.ToggleExclusionActionDelegate"
	           enablesFor="1"
	           id="org.openclover.eclipse.core.ToggleExclusionAction"
	           style="toggle"
	           label="Toggle Exclusion"
	           menubarPath="org.openclover.eclipse.core.popup.actions/additions">
	     </action>
 	     <action 
	           class="org.openclover.eclipse.core.exclusion.ToggleInclusionActionDelegate"
	           enablesFor="1"
	           id="org.openclover.eclipse.core.ToggleInclusionAction"
	           style="toggle"
	           label="Toggle Inclusion"
	           menubarPath="org.openclover.eclipse.core.popup.actions/additions">
	     </action>
	  </objectContribution>
	</extension>

	<extension
		point="org.eclipse.ui.viewActions">
		<viewContribution
			targetID="org.openclover.eclipse.core.views.CloverView"
			id="org.openclover.eclipse.core.view.action.contribution1">

			<action
				label="%project.blockContext"
                tooltip="%project.blockContexttooltip"
				icon="icons/clcl16/project_context.gif"
				class="org.openclover.eclipse.core.views.actions.ShowContextFilterDialogActionDelegate"
				menubarPath="project.ops"
				toolbarPath="project.ops"
				id="org.openclover.eclipse.core.actions.coverage.context.edit"/>
			<action
				label="%project.compilewithclover"
                tooltip="%project.compilewithclovertooltip"
                icon="icons/clcl16/project_compile.gif"
				class="org.openclover.eclipse.core.views.actions.ToggleCloverCompilerActionDelegate"
				style="toggle"
				menubarPath="project.ops"
				toolbarPath="project.ops"
				id="org.openclover.eclipse.core.actions.compileWithClover"/>
			<action
				label="%project.clearcoverage"
                tooltip="%project.clearcoveragetooltip"
				icon="icons/clcl16/project_clear.gif"
				class="org.openclover.eclipse.core.views.actions.ClearCoverageActionDelegate"
				menubarPath="project.ops"
				toolbarPath="project.ops"
				id="org.openclover.eclipse.core.actions.coverage.clear"/>
			<action
				label="%project.refreshcoverage"
                tooltip="%project.refreshcoveragetooltip"
				icon="icons/clcl16/project_refresh.gif"
				class="org.openclover.eclipse.core.views.actions.RefreshCoverageActionDelegate"
				menubarPath="project.ops"
				toolbarPath="project.ops"
				id="org.openclover.eclipse.core.actions.coverage.refresh"/>
            <action
                label="%project.togglenatures.long"
                tooltip="%project.togglenaturestooltip"
                icon="icons/cview16/clover.gif"
                class="org.openclover.eclipse.core.views.actions.ToggleMultipleCloverProjectNaturesActionDelegate"
                menubarPath="project.ops"
                toolbarPath="project.ops"
                id="org.openclover.eclipse.core.actions.togglenatures"/>

			<menu
				id="view.coverage.ops"
				path="view.coverage.ops.menu"
				label="%coverageview.coverageinexplorer">
				<separator name="additions"/>
			</menu>
			<action
				label="%coverageview.showtestonlycoverageinexplorer"
				tooltip="%coverageview.showtestonlycoverageinexplorertooltip"
				class="org.openclover.eclipse.core.views.coverageexplorer.actions.SelectTestOnlyCoverageAction"
				style="radio"
				menubarPath="view.coverage.ops/additions"
				id="org.openclover.eclipse.core.actions.view.coverage.testonly"/>
			<action
				label="%coverageview.showapponlycoverageinexplorer"
				tooltip="%coverageview.showapponlycoverageinexplorertooltip"
				class="org.openclover.eclipse.core.views.coverageexplorer.actions.SelectAppOnlyCoverageAction"
				style="radio"
				menubarPath="view.coverage.ops/additions"
				id="org.openclover.eclipse.core.actions.view.coverage.apponly"/>
			<action
				label="%coverageview.showallcoverageinexplorer"
				tooltip="%coverageview.showallcoverageinexplorertooltip"
				class="org.openclover.eclipse.core.views.coverageexplorer.actions.SelectFullCoverageAction"
				style="radio"
				menubarPath="view.coverage.ops/additions"
				id="org.openclover.eclipse.core.actions.view.coverage.full"/>

			<menu
				id="editor.ops"
				path="editor.ops.menu"
				label="%coverageview.coverageineditor">
				<separator name="additions"/>
			</menu>
			<action
				label="%exclude.toggleShowAnnotations"
				style="toggle"
				menubarPath="editor.ops"
				class="org.openclover.eclipse.core.exclusion.ToggleShowAnnotationViewDelegate"
				id="org.openclover.eclipse.core.exclusion.toggleAnnotations"
				/>
            <action
                    label="%CoverageView.showPassedCoverageOnly"
                    tooltip="%CoverageView.showPassedCoverageOnlyToolTip"
                    icon="icons/clcl16/include_passed_only.gif"
                    class="org.openclover.eclipse.core.views.actions.ToggleIncludePassedCoverageOnlyActionDelegate"
                    style="toggle"
                    menubarPath="editor.ops"
                    toolbarPath="editor.ops"
                    id="org.openclover.eclipse.core.actions.editor.coverage.includePassedOnly"/>
			<action
				label="%coverageview.shownocoverageineditor"
				tooltip="%coverageview.shownocoverageineditortooltip"
				icon="icons/clcl16/no_editor_coverage.gif"
				class="org.openclover.eclipse.core.views.actions.SelectNoEditorCoverageActionDelegate"
				style="radio"
				menubarPath="editor.ops/additions"
				toolbarPath="editor.ops"
				id="org.openclover.eclipse.core.actions.editor.coverage.none"/>
			<action
				label="%coverageview.showuncoveredcoverageineditor"
				tooltip="%coverageview.showuncoveredcoverageineditortooltip"
				icon="icons/clcl16/uncovered_editor_coverage.gif"
				class="org.openclover.eclipse.core.views.actions.SelectUncoveredEditorCoverageActionDelegate"
				style="radio"
				menubarPath="editor.ops/additions"
				toolbarPath="editor.ops"
				id="org.openclover.eclipse.core.actions.editor.coverage.uncovered"/>
			<action
				label="%coverageview.showallcoverageineditor"
				tooltip="%coverageview.showallcoverageineditortooltip"
				icon="icons/clcl16/all_editor_coverage.gif"
				class="org.openclover.eclipse.core.views.actions.SelectAllEditorCoverageActionDelegate"
				style="radio"
				menubarPath="editor.ops/additions"
				toolbarPath="editor.ops"
				id="org.openclover.eclipse.core.actions.editor.coverage.all"/>
			<action
				label="%coverageview.clearworkingset"
				class="org.openclover.eclipse.core.views.actions.ClearWorkingSetActionDelegate"
				menubarPath="view.workingset"
				id="org.openclover.eclipse.core.actions.workingset.clear"/>
			<action
				label="%coverageview.editworkingset"
				class="org.openclover.eclipse.core.views.actions.EditWorkingSetActionDelegate"
				menubarPath="view.workingset"
				id="org.openclover.eclipse.core.actions.workingset.edit"/>
			<action
				label="%coverageview.toggleworkingset"
				class="org.openclover.eclipse.core.views.actions.ToggleWorkingSetModeActionDelegate"
				menubarPath="view.workingset"
				id="org.openclover.eclipse.core.actions.workingset.toggle"/>

			<action
				label="%project.generatecoveragecloud"
                tooltip="%project.generatecoveragecloudtooltip"
				icon="icons/clcl16/report_cloud.gif"
				class="org.openclover.eclipse.core.views.actions.OpenCloudActionDelegate"
				menubarPath="project.reports"
				toolbarPath="project.reports"
				id="org.openclover.eclipse.core.actions.cloud.open"/>
			<action
				label="%project.generatetreemap"
                tooltip="%project.generatetreemaptooltip"
				icon="icons/clcl16/report_treemap.gif"
				class="org.openclover.eclipse.core.views.actions.GenerateTreemapActionDelegate"
				menubarPath="project.reports"
				toolbarPath="project.reports"
				id="org.openclover.eclipse.core.actions.treemap.open"/>


			<action
				label="%coverageview.hidefullycovered"
				icon="icons/clcl16/hierarchy_hide_fully_covered.gif"
				tooltip="%coverageview.hidefullycoveredtooltip"
				class="org.openclover.eclipse.core.views.coverageexplorer.actions.HideFullyCoveredAction"
				style="toggle"
				menubarPath="view.declutter"
				toolbarPath="view.declutter"
				id="org.openclover.eclipse.core.actions.view.hideFullyCovered"/>
			<action
				label="%coverageview.hideunavailable"
				icon="icons/clcl16/hierarchy_hide_unavailable.gif"
				tooltip="%coverageview.hideunavailabletooltip"
				class="org.openclover.eclipse.core.views.coverageexplorer.actions.HideCoverageUnavailableAction"
				style="toggle"
				menubarPath="view.declutter"
				toolbarPath="view.declutter"
				id="org.openclover.eclipse.core.actions.view.hideUnavailable"/>

			<action
				label="%coverageview.about"
				class="org.openclover.eclipse.core.views.actions.ShowAboutCloverActionDelegate"
				menubarPath="view.about"
				id="org.openclover.eclipse.core.actions.view.about"/>

			<menu
				id="view.hierarchy"
				path="view.hierarchy.menu"
				label="%coverageview.hierarchystylemenutitle">
				<separator name="additions"/>
			</menu>

            <action
                label="%coverageview.hierarchystyletreetoggle"
                tooltip="%coverageview.hierarchystyletreetoggletooltip"
                icon="icons/clcl16/tree.gif"
                class="org.openclover.eclipse.core.views.coverageexplorer.actions.HierarchyStyleTreeToggleAction"
                style="toggle"
                menubarPath="view.hierarchy/additions"
                toolbarPath="view.hierarchy"
                id="org.openclover.eclipse.core.actions.view.hierarchy.treetoggle"/>
			<action
				label="%coverageview.hierarchystylepackagerootsstyle"
                tooltip="%coverageview.hierarchystylepackagerootsstyletooltip"
				icon="icons/clcl16/folder.gif"
				class="org.openclover.eclipse.core.views.coverageexplorer.actions.SelectPackageRootsStyleAction"
				style="radio"
				menubarPath="view.hierarchy/additions"
				toolbarPath="view.hierarchy"
				id="org.openclover.eclipse.core.actions.view.hierarchy.packagerootsflatpackages"/>
			<action
				label="%coverageview.hierarchystylepackagesstyle"
                tooltip="%coverageview.hierarchystylepackagesstyletooltip"
				icon="icons/clcl16/package.gif"
				class="org.openclover.eclipse.core.views.coverageexplorer.actions.SelectNoPackageRootsAction"
				style="radio"
				menubarPath="view.hierarchy/additions"
				toolbarPath="view.hierarchy"
				id="org.openclover.eclipse.core.actions.view.hierarchy.flatpackages"/>
            <action
                label="%coverageview.columns"
                tooltip="%coverageview.columnstooltip"
                icon="icons/clcl16/table.gif"
                class="org.openclover.eclipse.core.views.actions.ConfigureCoverageExplorerColumnsActionDelegate"
                menubarPath="view.columns"
                toolbarPath="view.columns"
                id="org.openclover.eclipse.core.actions.coverageview.columns"/>

		</viewContribution>

        <viewContribution
            targetID="org.openclover.eclipse.core.views.testrunexplorer"
            id="org.openclover.eclipse.core.view.action.contribution2">

            <action
                label="%project.blockContext"
                tooltip="%project.blockContexttooltip"
                icon="icons/clcl16/project_context.gif"
                class="org.openclover.eclipse.core.views.actions.ShowContextFilterDialogActionDelegate"
                menubarPath="project.ops"
                toolbarPath="project.ops"
                id="org.openclover.eclipse.core.actions.coverage.context.edit"/>
            <action
                label="%project.compilewithclover"
                tooltip="%project.compilewithclovertooltip"
                icon="icons/clcl16/project_compile.gif"
                class="org.openclover.eclipse.core.views.actions.ToggleCloverCompilerActionDelegate"
                style="toggle"
                menubarPath="project.ops"
                toolbarPath="project.ops"
                id="org.openclover.eclipse.core.actions.compileWithClover"/>
            <action
                label="%project.clearcoverage"
                tooltip="%project.clearcoveragetooltip"
                icon="icons/clcl16/project_clear.gif"
                class="org.openclover.eclipse.core.views.actions.ClearCoverageActionDelegate"
                menubarPath="project.ops"
                toolbarPath="project.ops"
                id="org.openclover.eclipse.core.actions.coverage.clear"/>
            <action
                label="%project.refreshcoverage"
                tooltip="%project.refreshcoveragetooltip"
                icon="icons/clcl16/project_refresh.gif"
                class="org.openclover.eclipse.core.views.actions.RefreshCoverageActionDelegate"
                menubarPath="project.ops"
                toolbarPath="project.ops"
                id="org.openclover.eclipse.core.actions.coverage.refresh"/>
            <action
                label="%project.togglenatures.long"
                tooltip="%project.togglenaturestooltip"
                icon="icons/cview16/clover.gif"
                class="org.openclover.eclipse.core.views.actions.ToggleMultipleCloverProjectNaturesActionDelegate"
                menubarPath="project.ops"
                toolbarPath="project.ops"
                id="org.openclover.eclipse.core.actions.togglenatures"/>

            <menu
                id="editor.ops"
                path="editor.ops.menu"
                label="%coverageview.coverageineditor">
                <separator name="additions"/>
            </menu>
            <action
				label="%exclude.toggleShowAnnotations"
				style="toggle"
				menubarPath="editor.ops"
				class="org.openclover.eclipse.core.exclusion.ToggleShowAnnotationViewDelegate"
				id="org.openclover.eclipse.core.exclusion.toggleAnnotations"
				/>
            <action
                    label="%CoverageView.showPassedCoverageOnly"
                    tooltip="%CoverageView.showPassedCoverageOnlyToolTip"
                    icon="icons/clcl16/include_passed_only.gif"
                    class="org.openclover.eclipse.core.views.actions.ToggleIncludePassedCoverageOnlyActionDelegate"
                    style="toggle"
                    menubarPath="editor.ops"
                    toolbarPath="editor.ops"
                    id="org.openclover.eclipse.core.actions.editor.coverage.includePassedOnly"/>
            <action
                label="%coverageview.shownocoverageineditor"
                tooltip="%coverageview.shownocoverageineditortooltip"
                icon="icons/clcl16/no_editor_coverage.gif"
                class="org.openclover.eclipse.core.views.actions.SelectNoEditorCoverageActionDelegate"
                style="radio"
                menubarPath="editor.ops/additions"
                toolbarPath="editor.ops"
                id="org.openclover.eclipse.core.actions.editor.coverage.none"/>
            <action
                label="%coverageview.showuncoveredcoverageineditor"
                tooltip="%coverageview.showuncoveredcoverageineditortooltip"
                icon="icons/clcl16/uncovered_editor_coverage.gif"
                class="org.openclover.eclipse.core.views.actions.SelectUncoveredEditorCoverageActionDelegate"
                style="radio"
                menubarPath="editor.ops/additions"
                toolbarPath="editor.ops"
                id="org.openclover.eclipse.core.actions.editor.coverage.uncovered"/>
            <action
                label="%coverageview.showallcoverageineditor"
                tooltip="%coverageview.showallcoverageineditortooltip"
                icon="icons/clcl16/all_editor_coverage.gif"
                class="org.openclover.eclipse.core.views.actions.SelectAllEditorCoverageActionDelegate"
                style="radio"
                menubarPath="editor.ops/additions"
                toolbarPath="editor.ops"
                id="org.openclover.eclipse.core.actions.editor.coverage.all"/>
            <action
                label="%coverageview.clearworkingset"
                class="org.openclover.eclipse.core.views.actions.ClearWorkingSetActionDelegate"
                menubarPath="view.workingset"
                id="org.openclover.eclipse.core.actions.workingset.clear"/>
            <action
                label="%coverageview.editworkingset"
                class="org.openclover.eclipse.core.views.actions.EditWorkingSetActionDelegate"
                menubarPath="view.workingset"
                id="org.openclover.eclipse.core.actions.workingset.edit"/>
            <action
                label="%coverageview.toggleworkingset"
                class="org.openclover.eclipse.core.views.actions.ToggleWorkingSetModeActionDelegate"
                menubarPath="view.workingset"
                id="org.openclover.eclipse.core.actions.workingset.toggle"/>

            <action
                label="%project.generatecoveragecloud"
                tooltip="%project.generatecoveragecloudtooltip"
                icon="icons/clcl16/report_cloud.gif"
                class="org.openclover.eclipse.core.views.actions.OpenCloudActionDelegate"
                menubarPath="project.reports"
                toolbarPath="project.reports"
                id="org.openclover.eclipse.core.actions.cloud.open"/>
            <action
                label="%project.generatetreemap"
                tooltip="%project.generatetreemaptooltip"
                icon="icons/clcl16/report_treemap.gif"
                class="org.openclover.eclipse.core.views.actions.GenerateTreemapActionDelegate"
                menubarPath="project.reports"
                toolbarPath="project.reports"
                id="org.openclover.eclipse.core.actions.treemap.open"/>

            <action
                label="%coverageview.about"
                class="org.openclover.eclipse.core.views.actions.ShowAboutCloverActionDelegate"
                menubarPath="view.about"
                id="org.openclover.eclipse.core.actions.view.about"/>

            <menu
                id="view.hierarchy"
                path="view.hierarchy.menu"
                label="%coverageview.hierarchystylemenutitle">
                <separator name="additions"/>
            </menu>

            <action
                label="%testrunexplorerview.hierarchystylepackagerootsstyle"
                tooltip="%testrunexplorerview.hierarchystylepackagerootsstyletooltip"
                icon="icons/clcl16/folder.gif"
                class="org.openclover.eclipse.core.views.testrunexplorer.actions.SelectPackageRootsStyleAction"
                style="radio"
                menubarPath="view.hierarchy/additions"
                toolbarPath="view.hierarchy"
                id="org.openclover.eclipse.core.actions.view.hierarchy.packagerootsflatpackages"/>
            <action
                label="%testrunexplorerview.hierarchystylepackagesstyle"
                tooltip="%testrunexplorerview.hierarchystylepackagesstyletooltip"
                icon="icons/clcl16/package.gif"
                class="org.openclover.eclipse.core.views.testrunexplorer.actions.SelectPackagesStyleAction"
                style="radio"
                menubarPath="view.hierarchy/additions"
                toolbarPath="view.hierarchy"
                id="org.openclover.eclipse.core.actions.view.hierarchy.flatpackages"/>
            <action
                label="%testrunexplorerview.flattestcasesstyle"
                tooltip="%testrunexplorerview.flattestcasesstyletooltip"
                icon="icons/obj16/test.gif"
                class="org.openclover.eclipse.core.views.testrunexplorer.actions.SelectTestCasesStyleAction"
                style="radio"
                menubarPath="view.hierarchy/additions"
                toolbarPath="view.hierarchy"
                id="org.openclover.eclipse.core.actions.view.hierarchy.testcases"/>
        </viewContribution>
	</extension>

	<extension
		point="org.eclipse.ui.popupMenus">

		<viewerContribution
			targetID="org.openclover.eclipse.core.views.CloverView"
			id="org.openclover.eclipse.core.popup.action.contribution1">
			<action
				label="%project.blockContext"
                tooltip="%project.blockContexttooltip"
				icon="icons/clcl16/project_context.gif"
				class="org.openclover.eclipse.core.views.actions.ShowContextFilterDialogActionDelegate"
				menubarPath="project.ops"
				toolbarPath="project.ops"
				id="org.openclover.eclipse.core.actions.coverage.context.edit"/>
			<action
				label="%project.compilewithclover"
                tooltip="%project.compilewithclovertooltip"
				icon="icons/clcl16/project_compile.gif"
				class="org.openclover.eclipse.core.views.actions.ToggleCloverCompilerActionDelegate"
				style="toggle"
				menubarPath="project.ops"
				toolbarPath="project.ops"
				id="org.openclover.eclipse.core.actions.compileWithClover"/>
			<action
				label="%project.clearcoverage"
                tooltip="%project.clearcoveragetooltip"
				icon="icons/clcl16/project_clear.gif"
				class="org.openclover.eclipse.core.views.actions.ClearCoverageActionDelegate"
				menubarPath="project.ops"
				toolbarPath="project.ops"
				id="org.openclover.eclipse.core.actions.coverage.clear"/>
			<action
				label="%project.refreshcoverage"
                tooltip="%project.refreshcoveragetooltip"
				icon="icons/clcl16/project_refresh.gif"
				class="org.openclover.eclipse.core.views.actions.RefreshCoverageActionDelegate"
				menubarPath="project.ops"
				toolbarPath="project.ops"
				id="org.openclover.eclipse.core.actions.coverage.refresh"/>
            <action
                label="%project.togglenatures.long"
                tooltip="%project.togglenaturestooltip"
                icon="icons/cview16/clover.gif"
                class="org.openclover.eclipse.core.views.actions.ToggleMultipleCloverProjectNaturesActionDelegate"
                menubarPath="project.ops"
                toolbarPath="project.ops"
                id="org.openclover.eclipse.core.actions.togglenatures"/>

			<action
				label="%project.generatecoveragecloud"
                tooltip="%project.generatecoveragecloudtooltip"
				icon="icons/clcl16/report_cloud.gif"
				class="org.openclover.eclipse.core.views.actions.OpenCloudActionDelegate"
				menubarPath="project.reports"
				toolbarPath="project.reports"
				id="org.openclover.eclipse.core.actions.cloud.open"/>
			<action
				label="%project.generatetreemap"
                tooltip="%project.generatetreemaptooltip"
				icon="icons/clcl16/report_treemap.gif"
				class="org.openclover.eclipse.core.views.actions.GenerateTreemapActionDelegate"
				menubarPath="project.reports"
				toolbarPath="project.reports"
				id="org.openclover.eclipse.core.actions.treemap.open"/>

		</viewerContribution>
	</extension>

    <extension
        point="org.eclipse.ui.popupMenus">

        <viewerContribution
            targetID="org.openclover.eclipse.core.views.testrunexplorer"
            id="org.openclover.eclipse.core.popup.action.contribution2">
            <action
                label="%project.blockContext"
                tooltip="%project.blockContexttooltip"
                icon="icons/clcl16/project_context.gif"
                class="org.openclover.eclipse.core.views.actions.ShowContextFilterDialogActionDelegate"
                menubarPath="project.ops"
                toolbarPath="project.ops"
                id="org.openclover.eclipse.core.actions.coverage.context.edit"/>
            <action
                label="%project.compilewithclover"
                icon="icons/clcl16/project_compile.gif"
                class="org.openclover.eclipse.core.views.actions.ToggleCloverCompilerActionDelegate"
                style="toggle"
                menubarPath="project.ops"
                toolbarPath="project.ops"
                id="org.openclover.eclipse.core.actions.compileWithClover"/>
            <action
                label="%project.clearcoverage"
                tooltip="%project.clearcoveragetooltip"
                icon="icons/clcl16/project_clear.gif"
                class="org.openclover.eclipse.core.views.actions.ClearCoverageActionDelegate"
                menubarPath="project.ops"
                toolbarPath="project.ops"
                id="org.openclover.eclipse.core.actions.coverage.clear"/>
            <action
                label="%project.refreshcoverage"
                tooltip="%project.refreshcoveragetooltip"
                icon="icons/clcl16/project_refresh.gif"
                class="org.openclover.eclipse.core.views.actions.RefreshCoverageActionDelegate"
                menubarPath="project.ops"
                toolbarPath="project.ops"
                id="org.openclover.eclipse.core.actions.coverage.refresh"/>
            <action
                label="%project.togglenatures.long"
                tooltip="%project.togglenaturestooltip"
                icon="icons/cview16/clover.gif"
                class="org.openclover.eclipse.core.views.actions.ToggleMultipleCloverProjectNaturesActionDelegate"
                menubarPath="project.ops"
                toolbarPath="project.ops"
                id="org.openclover.eclipse.core.actions.togglenatures"/>

            <action
                label="%project.generatecoveragecloud"
                tooltip="%project.generatecoveragecloudtooltip"
                icon="icons/clcl16/report_cloud.gif"
                class="org.openclover.eclipse.core.views.actions.OpenCloudActionDelegate"
                menubarPath="project.reports"
                toolbarPath="project.reports"
                id="org.openclover.eclipse.core.actions.cloud.open"/>
            <action
                label="%project.generatetreemap"
                tooltip="%project.generatetreemaptooltip"
                icon="icons/clcl16/report_treemap.gif"
                class="org.openclover.eclipse.core.views.actions.GenerateTreemapActionDelegate"
                menubarPath="project.reports"
                toolbarPath="project.reports"
                id="org.openclover.eclipse.core.actions.treemap.open"/>

        </viewerContribution>
    </extension>

    <!-- =============================================== -->
	<!-- CLOUD "EDITOR" (UNEDITABLE) -->
	<!-- =============================================== -->
	<extension
		point="org.eclipse.ui.editors">
		<editor
			class="org.openclover.eclipse.core.ui.editors.cloud.CloudEditor"
			icon="icons/clcl16/report_cloud.gif"
			contributorClass="org.openclover.eclipse.core.ui.editors.cloud.CloudEditorContributor"
			id="org.openclover.eclipse.core.editors.cloud"
			name="Clover Coverage Cloud Report"/>
	</extension>

	<!-- =============================================== -->
	<!-- TREEMAP "EDITOR" (UNEDITABLE) -->
	<!-- =============================================== -->
	<extension
		point="org.eclipse.ui.editors">
		<editor
			class="org.openclover.eclipse.core.ui.editors.treemap.TreemapEditor"
			icon="icons/clcl16/report_treemap.gif"
			id="org.openclover.eclipse.core.editors.treemap"
			name="Clover Coverage Treemap Report"/>
	</extension>

	<!-- ===================== -->
	<!-- CLOVER PROJECT PROPERTY PAGE -->
	<!-- ===================== -->
	<extension
		point="org.eclipse.ui.propertyPages">
		<page
			class="org.openclover.eclipse.core.projects.settings.ProjectPropertyPage"
			id="org.openclover.eclipse.core.properties.cloverProjectPropertyPage"
			adaptable="true"
			name="%clover.name"
			objectClass="org.eclipse.core.resources.IProject">
			<filter
				name="nature"
				value="org.eclipse.jdt.core.javanature">
			</filter>
		</page>
	</extension>

	<!-- ===================== -->
	<!-- CLOVER PREFERENCES PAGES -->
	<!-- ===================== -->
	<extension
		point="org.eclipse.ui.preferencePages">
		<page
			class="org.openclover.eclipse.core.settings.GeneralPreferencesPage"
			id="org.openclover.eclipse.core.preferences.cloverGeneralPreferencesPage"
			name="%clover.name"/>
		<page
			class="org.openclover.eclipse.core.settings.LicensePreferencesPage"
			id="org.openclover.eclipse.core.preferences.cloverLicensePreferencesPage"
			category="org.openclover.eclipse.core.preferences.cloverGeneralPreferencesPage"
			name="%clover.license"/>
	</extension>

	<!-- ===================== -->
	<!-- COVERAGE VIEWS -->
	<!-- ===================== -->
	<extension point="org.eclipse.ui.views">

		<category id="org.openclover.eclipse.core.cloverViews" name="%clover.name"/>

		<!-- view id is non-standard but corresponds to view id in 1.x plugin -->
		<view id="org.openclover.eclipse.core.views.CloverView"
			  name="%coverageview.name"
			  icon="icons/cview16/clover.gif"
			  category="org.openclover.eclipse.core.cloverViews"
			  class="org.openclover.eclipse.core.views.coverageexplorer.CoverageView"/>

        <view id="org.openclover.eclipse.core.views.testrunexplorer"
              name="%testrunexplorerview.name"
              icon="icons/cview16/clover.gif"
              category="org.openclover.eclipse.core.cloverViews"
              class="org.openclover.eclipse.core.views.testrunexplorer.TestRunExplorerView"/>

		<view id="org.openclover.eclipse.core.views.testcontributions"
			  name="%testcontributions.name"
			  icon="icons/cview16/clover.gif"
			  category="org.openclover.eclipse.core.cloverViews"
			  class="org.openclover.eclipse.core.views.testcontributions.TestContributionsView"/>
			  
	   <view id="org.openclover.eclipse.core.views.dashboard"
              name="%dashboardview.name"
              icon="icons/cview16/clover.gif"
              category="org.openclover.eclipse.core.cloverViews"
              class="org.openclover.eclipse.core.views.dashboard.DashboardView"/>
	</extension>

	<!-- ===================== -->
	<!-- PREFERENCE DEFAULTS -->
	<!-- ===================== -->
	<extension point="org.eclipse.core.runtime.preferences">
		<initializer class="org.openclover.eclipse.core.settings.PreferencesInitialiser"/>
	</extension>

	<!-- ===================== -->
	<!-- PROJECT ICON DECORATORS -->
	<!-- ===================== -->
	<extension point="org.eclipse.ui.decorators">
		<decorator
			id="org.openclover.eclipse.core.views.projectDecorator"
			label="Clover Project Decorator"
			state="true"
			lightweight="true"
			adaptable="true"
			icon="icons/ovr16/clovered.gif"
			location="BOTTOM_RIGHT">
			<enablement>
				<and>
					<objectClass name="org.eclipse.jdt.core.IJavaProject"/>
					<objectState name="nature" value="org.openclover.eclipse.core.clovernature"/>
				</and>
			</enablement>
		</decorator>
		<decorator
        	id="org.openclover.eclipse.core.exclusionDecorator"
        	label="Clover Exclusion Decorator"
        	lightweight="true"
        	adaptable="true"
        	state="true"
        	class="org.openclover.eclipse.core.exclusion.ExclusionLabelDecorator">
        	<enablement>
        		<objectClass name="org.openclover.eclipse.core.exclusion.ICloverExcludable"/>
        	</enablement>
		</decorator>
	</extension>

	<!-- ===================== -->
	<!-- ADAPTER FOR METRICS   -->
	<!-- ===================== -->
	<extension
		point="org.eclipse.core.runtime.adapters">
		<factory
			class="org.openclover.eclipse.core.projects.model.MetricsAdapterFactory"
			adaptableType="org.openclover.eclipse.core.projects.model.MetricsScope$Qualification">

			<adapter type="org.openclover.core.api.registry.HasMetrics"/>
			<adapter type="org.openclover.core.registry.entities.FullProjectInfo"/>
			<adapter type="org.openclover.core.registry.entities.FullClassInfo"/>
            <adapter type="org.openclover.core.registry.entities.TestCaseInfo"/>
            <adapter type="[Lorg.openclover.core.registry.entities.TestCaseInfo;"/>
			<adapter type="org.openclover.core.registry.entities.FullMethodInfo"/>
			<adapter type="org.openclover.core.registry.entities.FullFileInfo"/>

			<adapter type="org.openclover.core.registry.metrics.BlockMetrics"/>
			<adapter type="org.openclover.core.registry.metrics.ProjectMetrics"/>
			<adapter type="org.openclover.core.registry.metrics.ClassMetrics"/>
		</factory>
		<factory
			class="org.openclover.eclipse.core.projects.CloverProjectAdapterFactory"
			adaptableType="org.eclipse.core.resources.IProject">
			<adapter type="org.openclover.eclipse.core.projects.CloverProject"/>
		</factory>
		<factory
			class="org.openclover.eclipse.core.projects.CloverProjectAdapterFactory"
			adaptableType="org.eclipse.jdt.core.IJavaElement">
			<adapter type="org.openclover.eclipse.core.projects.CloverProject"/>
		</factory>
	    <factory 
	        adaptableType="org.eclipse.jdt.core.IJavaElement"
	        class="org.openclover.eclipse.core.exclusion.CloverExcludableAdapterFactory">
	        <adapter type="org.openclover.eclipse.core.exclusion.ICloverExcludable"/>
	    </factory>
	</extension>

	<!-- Hide .clover files and other resources in .clover -->
	<extension point="org.eclipse.team.core.ignore">
		<ignore pattern=".clover" enabled="true"/>
		<ignore pattern="*.clover" enabled="true"/>
	</extension>


	<extension point="org.eclipse.debug.core.launchModes">
		<launchMode label="%launch" mode="clover"/>
	</extension>

	<extension
		point="org.eclipse.debug.core.launchDelegates">
		<!-- Standard Java, JUnit and TestNG launch delegates-->
		<launchDelegate
			delegate="org.openclover.eclipse.core.launching.CloveredJavaAppLauncherDelegate"
			id="org.openclover.eclipse.core.launching.LocalJavaApplicationLauncher"
			modes="clover"
			type="org.eclipse.jdt.launching.localJavaApplication"/>
        <launchDelegate
            delegate="org.openclover.eclipse.core.launching.CloveredJavaAppletLauncherDelegate"
            id="org.openclover.eclipse.core.launching.LocalJavaAppletLauncher"
            modes="clover"
            type="org.eclipse.jdt.launching.javaApplet"/>
		<launchDelegate
			delegate="org.openclover.eclipse.core.launching.CloveredJavaAppLauncherDelegate"
			id="org.openclover.eclipse.core.launching.JUnitLaunchConfig"
			modes="clover"
			type="org.eclipse.jdt.junit.launchconfig"/>
		<launchDelegate
			delegate="org.openclover.eclipse.core.launching.CloveredJavaAppLauncherDelegate"
			id="org.openclover.eclipse.core.launching.TestNGLaunchConfig"
			modes="clover"
			type="org.testng.eclipse.launchconfig"/>
		<!-- Eclipse workbench, Equinox and JUnit (for plugin development) launch delegates-->
		<launchDelegate
			delegate="org.openclover.eclipse.core.launching.CloveredEclipseLauncherDelegate"
			id="org.openclover.eclipse.core.launching.WorkbenchPDELaunchConfig"
			modes="clover"
			type="org.eclipse.pde.ui.RuntimeWorkbench"/>
		<launchDelegate
			delegate="org.openclover.eclipse.core.launching.CloveredEclipseLauncherDelegate"
			id="org.openclover.eclipse.core.launching.EquinoxPDELaunchConfig"
			modes="clover"
			type="org.eclipse.pde.ui.EquinoxLauncher"/>
		<launchDelegate
			delegate="org.openclover.eclipse.core.launching.CloveredEclipseLauncherDelegate"
			id="org.openclover.eclipse.core.launching.JUnitPDELaunchConfig"
			modes="clover"
			type="org.eclipse.pde.ui.JunitLaunchConfig"/>
	</extension>

	<!--
	  Clovered launch group
	  @image is used by the "Open Run with Clover..." toolbar entry
	  @bannerImage is used by the launch configuration dialog in the top right corner
	  @mode is a key to bind together all Clover-enabled launch elements and delegates
	  -->
	<extension
		point="org.eclipse.debug.ui.launchGroups">
		<launchGroup
			id="org.openclover.eclipse.core.launching.group"
			label="%launch.group.label"
			mode="clover"
			title="%launch.group.title"
			image="icons/etool16/clovered_run.gif"
			bannerImage="icons/clover64.png"/>
	</extension>

	<!-- Contextual menu for view objects - adds "Run with Clover As" context menu -->
	<extension
		point="org.eclipse.ui.popupMenus">
		<objectContribution
            adaptable="true"
            id="org.openclover.eclipse.core.launching.popup.menu"
            objectClass="org.eclipse.jdt.core.IJavaElement">
			<!-- This action will flll the menu with appropriate Clover-enabled launch shortcuts -->
			<action
				label="%launch.popup.group.label"
				style="pulldown"
				class="org.openclover.eclipse.core.launching.actions.ContextualRunWithCloverAction"
				menubarPath="additions"
				enablesFor="+"
				id="org.openclover.eclipse.core.launching.popup.menu.submenu">
			</action>
		</objectContribution>
	</extension>

	<!-- Launch shortcuts for Clover-enabled projects -->
	<extension
		point="org.eclipse.debug.ui.launchShortcuts">
		<shortcut
			id="org.openclover.eclipse.core.launching.LocalJavaApplicationShortcut"
			label="%launch.java.application.label"
			icon="icons/cview16/clover.gif"
			modes="clover"
			class="org.openclover.eclipse.core.launching.CloveredLaunchShortcut:org.eclipse.jdt.debug.ui.localJavaShortcut">
            <contextualLaunch>
              <enablement>
                <with variable="selection">
                  <count value="1"/>
                   <iterate>
                    <and>
                     <adapt type="org.eclipse.jdt.core.IJavaElement">
                         <test
                             property="org.eclipse.jdt.core.isInJavaProjectWithNature"
                             value="org.openclover.eclipse.core.clovernature"/>
                     </adapt>
                        <or>
                          <test property="org.eclipse.jdt.launching.hasMain"/>
                          <test property="org.eclipse.jdt.launching.isContainer"/>
                          <test property="org.eclipse.jdt.launching.isPackageFragment"/>
                          <test property="org.eclipse.jdt.launching.isPackageFragmentRoot"/>
                        </or>
                    </and>
                   </iterate>
                  </with>
              </enablement>
              </contextualLaunch>
		</shortcut>
        <shortcut
            id="org.openclover.eclipse.core.launching.LocalJavaAppletShortcut"
            label="%launch.java.applet.label"
            icon="icons/cview16/clover.gif"
            modes="clover"
            class="org.openclover.eclipse.core.launching.CloveredLaunchShortcut:org.eclipse.jdt.debug.ui.javaAppletShortcut">
            <contextualLaunch>
              <enablement>
                <with variable="selection">
                <count value="1"/>
                  <iterate>
                  <and>
                   <adapt type="org.eclipse.jdt.core.IJavaElement">
                       <test
                           property="org.eclipse.jdt.core.isInJavaProjectWithNature"
                           value="org.openclover.eclipse.core.clovernature"/>
                   </adapt>
                      <or>
                        <test property="org.eclipse.jdt.launching.extendsClass" args="java.applet.Applet"/>
                        <test property="org.eclipse.jdt.launching.isContainer"/>
                        <test property="org.eclipse.jdt.launching.isPackageFragment"/>
                        <test property="org.eclipse.jdt.launching.isPackageFragmentRoot"/>
                       </or>
                      </and>
                  </iterate>
                  </with>
              </enablement>
              </contextualLaunch>
        </shortcut>
		<shortcut
			id="org.openclover.eclipse.core.launching.JUnitShortcut"
			label="%launch.junit.label"
			icon="icons/cview16/clover.gif"
			modes="clover"
			class="org.openclover.eclipse.core.launching.CloveredLaunchShortcut:org.eclipse.jdt.junit.junitShortcut">
			<contextualLaunch>
                <enablement>
                    <with variable="selection">
                        <count value="1"/>
                        <iterate>
                            <adapt
                                type="org.eclipse.jdt.core.IJavaElement">
                                <test
                                    property="org.eclipse.jdt.core.isInJavaProjectWithNature"
                                    value="org.openclover.eclipse.core.clovernature"/>
                                <test property="org.eclipse.jdt.core.isInJavaProject"/>
                                <test
                                    property="org.eclipse.jdt.core.hasTypeOnClasspath"
                                    value="junit.framework.Test"/>
                                <test
                                    property="org.eclipse.jdt.junit.canLaunchAsJUnit"
                                    forcePluginActivation="true"/>
                            </adapt>
                        </iterate>
                    </with>
                </enablement>
			</contextualLaunch>
		</shortcut>
		<shortcut
			id="org.openclover.eclipse.core.launching.WorkbenchPDEShortcut"
			label="%launch.eclipse.label"
			icon="icons/cview16/clover.gif"
			modes="clover"
			class="org.openclover.eclipse.core.launching.CloveredLaunchShortcut:org.eclipse.pde.ui.runtimeWorkbenchShortcut">
			<contextualLaunch>
				<enablement>
					<with variable="selection">
						<count value="1"/>
						<iterate>
							<adapt type="org.eclipse.jdt.core.IJavaElement">
								<test
									property="org.eclipse.jdt.core.isInJavaProjectWithNature"
									value="org.openclover.eclipse.core.clovernature"/>
								<test
									property="org.eclipse.jdt.core.isInJavaProjectWithNature"
									value="org.eclipse.pde.PluginNature"/>
							</adapt>
						</iterate>
					</with>
				</enablement>
			</contextualLaunch>
		</shortcut>
		<shortcut
			id="org.openclover.eclipse.core.launching.JUnitPDEShortcut"
			label="%launch.junit.plugin.label"
			icon="icons/cview16/clover.gif"
			modes="clover"
			class="org.openclover.eclipse.core.launching.CloveredLaunchShortcut:org.eclipse.pde.ui.junitWorkbenchShortcut">
			<contextualLaunch>
				<enablement>
					<with variable="selection">
						<count value="1"/>
						<iterate>
							<adapt type="org.eclipse.jdt.core.IJavaElement">
								<test
									property="org.eclipse.jdt.core.isInJavaProjectWithNature"
									value="org.openclover.eclipse.core.clovernature"/>
								<test
									property="org.eclipse.jdt.core.isInJavaProjectWithNature"
									value="org.eclipse.pde.PluginNature"/>
								<test
									property="org.eclipse.jdt.core.hasTypeOnClasspath"
									value="junit.framework.Test"/>
								<test
									property="org.eclipse.jdt.junit.canLaunchAsJUnit"
									forcePluginActivation="true"/>
							</adapt>
						</iterate>
					</with>
				</enablement>
			</contextualLaunch>
		</shortcut>
	</extension>

	<extension
		point="org.eclipse.debug.ui.launchConfigurationTabGroups">
		<launchConfigurationTabGroup
			id="org.openclover.eclipse.core.launching.JavaApplicationTabGroup"
			class="org.openclover.eclipse.core.launching.CloverTabGroup"
			type="org.eclipse.jdt.launching.localJavaApplication"
			helpContextId="org.eclipse.jdt.debug.ui.launchConfigHelpContext.local_java_application">
			<launchMode
				description="%launch.tabgroups.local.java.application.description"
				mode="clover"/>
		</launchConfigurationTabGroup>
        <launchConfigurationTabGroup
            id="org.openclover.eclipse.core.launching.JavaAppletTabGroup"
            class="org.openclover.eclipse.core.launching.CloverTabGroup"
            type="org.eclipse.jdt.launching.javaApplet"
            helpContextId="org.eclipse.jdt.debug.ui.launchConfigHelpContext.java_applet">
            <launchMode
                description="%launch.tabgroups.local.java.applet.description"
                mode="clover"/>
        </launchConfigurationTabGroup>
		<launchConfigurationTabGroup
			id="org.openclover.eclipse.core.launching.JUnitTabGroup"
			class="org.openclover.eclipse.core.launching.CloverTabGroup"
			type="org.eclipse.jdt.junit.launchconfig"
			helpContextId="org.eclipse.jdt.junit.junit_tab_group">
			<launchMode
				description="%launch.tabgroups.junit.description"
				mode="clover"/>
		</launchConfigurationTabGroup>
		<launchConfigurationTabGroup
			id="org.openclover.eclipse.core.launching.WorkbenchTabGroup"
			class="org.openclover.eclipse.core.launching.CloverTabGroup"
			type="org.eclipse.pde.ui.RuntimeWorkbench">
			<launchMode
				description="%launch.tabgroups.workbench.description"
				mode="clover"/>
		</launchConfigurationTabGroup>
		<launchConfigurationTabGroup
			id="org.openclover.eclipse.core.launching.JUnitPluginTabGroup"
			class="org.openclover.eclipse.core.launching.CloverTabGroup"
			type="org.eclipse.pde.ui.JunitLaunchConfig">
			<launchMode
				description="%launch.tabgroups.junit.plugin.description"
				mode="clover"/>
		</launchConfigurationTabGroup>
		<launchConfigurationTabGroup
			id="org.openclover.eclipse.core.launching.EquinoxTabGroup"
			class="org.openclover.eclipse.core.launching.CloverTabGroup"
			type="org.eclipse.pde.ui.EquinoxLauncher">
			<launchMode
				description="%launch.tabgroups.equinox.description"
				mode="clover"/>
		</launchConfigurationTabGroup>
		<launchConfigurationTabGroup
			id="org.openclover.eclipse.core.launching.TestNGTabGroup"
			class="org.openclover.eclipse.core.launching.CloverTabGroup"
			type="org.testng.eclipse.launchconfig">
			<launchMode
				description="%launch.tabgroups.testng.description"
				mode="clover"/>
		</launchConfigurationTabGroup>
	</extension>

	<!-- Action sets for Run menu and launch toolbars -->
	<extension
		point="org.eclipse.ui.actionSets">
		<actionSet
			id="org.openclover.eclipse.core.launching.CloverActionSet"
			label="%launch.actionset.label"
			visible="false">
			<menu
				id="org.eclipse.ui.run"
				label="%launch.menu.run.label"
				path="additions">

            	<separator name="relaunchGroup"/>
            	<separator name="emptyLaunchGroup"/>
			</menu>
			<action
				class="org.openclover.eclipse.core.launching.actions.CloverLaunchToolbarAction"
				hoverIcon="icons/etool16/clovered_run.gif"
				icon="icons/etool16/clovered_run.gif"
				id="org.openclover.eclipse.core.launching.actions.CloverLaunchToolbarAction"
				label="%launch.toolbar.label"
				style="pulldown"
				toolbarPath="org.eclipse.debug.ui.launchActionSet/debug"/>
			<action
				class="org.openclover.eclipse.core.launching.actions.OpenCloverConfigurationAction"
				definitionId="org.openclover.eclipse.core.launching.commands.OpenCloverConfiguration"
				id="org.openclover.eclipse.core.launching.actions.OpenCoverageConfiguration"
				label="%launch.toolbar.open.label"
				menubarPath="org.eclipse.ui.run/emptyLaunchGroup"/>
			<action
				class="org.openclover.eclipse.core.launching.actions.RunWithCloverAsAction"
				id="org.openclover.eclipse.core.launching.actions.RunWithCloverAsAction"
				label="%launch.toolbar.run.as.label"
				menubarPath="org.eclipse.ui.run/emptyLaunchGroup"
				style="pulldown"/>
			<action
				class="org.openclover.eclipse.core.launching.actions.CloverRunHistoryAction"
				id="org.openclover.eclipse.core.launching.actions.CloverRunHistoryAction"
				label="%launch.toolbar.run.history.label"
				menubarPath="org.eclipse.ui.run/emptyLaunchGroup"
				style="pulldown"/>
			<action
				class="org.openclover.eclipse.core.launching.actions.LastCloveredLaunchAction"
				definitionId="org.openclover.eclipse.core.launching.commands.LastCloveredLaunch"
				hoverIcon="icons/etool16/clovered_run.gif"
				icon="icons/etool16/clovered_run.gif"
				id="org.openclover.eclipse.core.lauching.actions.LastCloveredLaunchAction"
				label="%launch.toolbar.last.clovered.name"
				menubarPath="org.eclipse.ui.run/relaunchGroup"/>
		</actionSet>
	</extension>

	<!-- Launching commands for Clover-enabled projects -->
	<extension
		point="org.eclipse.ui.commands">
		<command
			id="org.openclover.eclipse.core.launching.commands.LastCloveredLaunchShortcut"
			categoryId="org.eclipse.debug.ui.category.run"
			description="%launch.commands.last.clovered.description"
			name="%launch.commands.last.clovered.name"/>
		<command
			id="org.openclover.eclipse.core.launching.commands.OpenCloverLaunchConfigurationShortcut"
			categoryId="org.eclipse.debug.ui.category.run"
			description="%launch.commands.open.clover.configuration.description"
			name="%launch.commands.open.clover.configuration.name"/>
		<command
			id="org.openclover.eclipse.core.launching.commands.LocalJavaApplicationShortcut"
			categoryId="org.eclipse.debug.ui.category.run"
			description="%launch.commands.local.java.application.shortcut.description"
			name="%launch.commands.local.java.application.shortcut.name"/>
        <command
            id="org.openclover.eclipse.core.launching.commands.LocalJavaAppletShortcut"
            categoryId="org.eclipse.debug.ui.category.run"
            description="%launch.commands.local.java.applet.shortcut.description"
            name="%launch.commands.local.java.applet.shortcut.name"/>
		<command
			id="org.openclover.eclipse.core.launching.commands.JUnitShortcut"
			categoryId="org.eclipse.debug.ui.category.run"
			description="%launch.commands.junit.shortcut.description"
			name="%launch.commands.junit.shortcut.name"/>
		<command
			id="org.openclover.eclipse.core.launching.commands.WorkbenchPDEShortcut"
			categoryId="org.eclipse.debug.ui.category.run"
			description="%launch.commands.workbench.pde.shortcut.description"
			name="%launch.commands.workbench.pde.shortcut.name"/>
		<command
			id="org.openclover.eclipse.core.launching.commands.JUnitPDEShortcut"
			categoryId="org.eclipse.debug.ui.category.run"
			description="%launch.commands.junit.pde.shortcut.description"
			name="%launch.commands.junit.pde.shortcut.name"/>
	</extension>

    <extension
        point="org.eclipse.jdt.core.compilationParticipant">
        <compilationParticipant
            class="org.openclover.eclipse.core.projects.builder.CloverCompilationParticipant"
            id="org.openclover.eclipse.core.compilation.participant">
        </compilationParticipant>
    </extension>

    <extension
        point="org.eclipse.ui.perspectiveExtensions">
        <perspectiveExtension targetID="org.eclipse.ui.resourcePerspective">
            <showInPart id="org.openclover.eclipse.core.views.CloverView"/>
            <actionSet id="org.openclover.eclipse.core.launching.CloverActionSet"/>
        </perspectiveExtension>
        <perspectiveExtension targetID="org.eclipse.jdt.ui.JavaPerspective">
            <showInPart id="org.openclover.eclipse.core.views.CloverView"/>
            <view id="org.openclover.eclipse.core.views.CloverView"
                relative="org.eclipse.ui.views.ProblemView"
                relationship="stack"/>
            <view id="org.openclover.eclipse.core.views.testrunexplorer"
                relative="org.eclipse.ui.views.ProblemView"
                relationship="stack"/>
            <view id="org.openclover.eclipse.core.views.testcontributions"
                relative="org.eclipse.ui.views.ContentOutline"
                relationship="stack"/>
            <actionSet id="org.openclover.eclipse.core.launching.CloverActionSet"/>
        </perspectiveExtension>
        <perspectiveExtension targetID="org.eclipse.jst.j2ee.J2EEPerspective">
            <showInPart id="org.openclover.eclipse.core.views.CloverView"/>
            <view id="org.openclover.eclipse.core.views.CloverView"
                relative="org.eclipse.ui.views.ProblemView"
                relationship="stack"/>
            <view id="org.openclover.eclipse.core.views.testrunexplorer"
                relative="org.eclipse.ui.views.ProblemView"
                relationship="stack"/>
            <view id="org.openclover.eclipse.core.views.testcontributions"
                relative="org.eclipse.ui.views.ContentOutline"
                relationship="stack"/>
            <actionSet id="org.openclover.eclipse.core.launching.CloverActionSet"/>
        </perspectiveExtension>
        <perspectiveExtension targetID="org.eclipse.pde.ui.PDEPerspective">
            <showInPart id="org.openclover.eclipse.core.views.CloverView"/>
            <view id="org.openclover.eclipse.core.views.CloverView"
                relative="org.eclipse.ui.views.ProblemView"
                relationship="stack"/>
            <view id="org.openclover.eclipse.core.views.testrunexplorer"
                relative="org.eclipse.ui.views.ProblemView"
                relationship="stack"/>
            <view id="org.openclover.eclipse.core.views.testcontributions"
                relative="org.eclipse.ui.views.ContentOutline"
                relationship="stack"/>
            <actionSet id="org.openclover.eclipse.core.launching.CloverActionSet"/>
        </perspectiveExtension>
        <perspectiveExtension targetID="org.eclipse.debug.ui.DebugPerspective">
            <showInPart id="org.openclover.eclipse.core.views.CloverView"/>
            <actionSet id="org.openclover.eclipse.core.launching.CloverActionSet"/>
        </perspectiveExtension>
    </extension>
</plugin>
